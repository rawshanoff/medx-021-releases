import i18n from 'i18next';
import { initReactI18next } from 'react-i18next';
import LanguageDetector from 'i18next-browser-languagedetector';
import enJson from './locales/en.json';
import ruJson from './locales/ru.json';
import uzJson from './locales/uz.json';

i18n
    .use(LanguageDetector)
    .use(initReactI18next)
    .init({
        debug: false,
        fallbackLng: 'ru',
        interpolation: {
            escapeValue: false,
        },
        resources: {
            en: {
                translation: {
                    ...enJson,
                    common: {
                        loading: "Loading...",
                        add: "Add",
                        done: "Done",
                        role: "Role",
                        cancelled: "Cancelled",
                        cancel: "Cancel",
                        save: "Save",
                        delete: "Delete",
                        edit: "Edit",
                        actions: "Actions",
                        search: "Search...",
                        unknown: "Unknown",
                        version: "Version",
                        status: "Status",
                        license: "License",
                        online: "Online",
                        active: "Active",
                        yes: "Yes",
                        no: "No",
                        confirm: "Are you sure?",
                        or: "or",
                        currency: "UZS"
                    },
                    nav: {
                        dashboard: "Reception",
                        registration: "Registration",
                        patients: "Patients",
                        finance: "Finance",
                        reports: "Reports",
                        doctors: "Doctors",
                        system: "System",
                        appointments: "Appointments",
                        users: "Users",
                        logout: "Logout",
                        logout_confirm: "Are you sure you want to exit?"
                    },
                    registration: {
                        title: "Patient Registration",
                        subtitle: "Fast intake form with accessibility and consistent tokens.",
                        progress_badge: "Progress: {{progress}}%",
                        status_errors: "Has errors",
                        status_ready: "Ready to save",
                        steps_title: "Steps",
                        steps_desc: "Quick navigation through the form",
                        steps: {
                            identity: { title: "Identity", hint: "Name and birth date" },
                            contacts: { title: "Contacts", hint: "Phone and address" },
                            medical: { title: "Medical", hint: "Allergies and notes" }
                        },
                        sections: {
                            identity: { title: "Identity", desc: "Enter name and birth date." },
                            contacts: { title: "Contacts", desc: "Provide phone and contact details." },
                            medical: { title: "Medical details", desc: "Add important medical info." }
                        },
                        fields: {
                            firstName: { label: "First name", placeholder: "e.g., Ivan" },
                            lastName: { label: "Last name", placeholder: "e.g., Petrov" },
                            birthDate: { label: "Birth date", placeholder: "YYYY-MM-DD" },
                            sex: { label: "Sex", none: "Not specified", male: "Male", female: "Female" },
                            phone: { label: "Phone", placeholder: "+998..." },
                            email: { label: "Email", placeholder: "name@example.com" },
                            address: { label: "Address", placeholder: "City, street, house" },
                            allergies: { label: "Allergies", placeholder: "e.g., penicillin" },
                            chronic: { label: "Chronic conditions", placeholder: "e.g., hypertension" },
                            notes: { label: "Notes", placeholder: "Free note for doctor/reception" }
                        },
                        errors: { required: "Required field", format: "Invalid format" },
                        buttons: { back: "Back", next: "Next", save: "Save" },
                        tip: "Tip: fill required fields first, then save.",
                        saved: "Patient saved (MVP UI)"
                    },
                    auth: {
                        welcome: "Welcome to MedX",
                        login: "Login",
                        username: "Username",
                        password: "Password",
                        username_placeholder: "Enter username",
                        password_placeholder: "Enter password",
                        login_failed: "Login failed. Please check your credentials.",
                        default_credentials: "Default login credentials:",
                        upload_key: "Please upload your license key to activate the system.",
                        click_upload: "Click to select .key file",
                        activate_btn: "Activate System",
                        activating: "Activating...",
                        invalid_key: "Invalid license key."
                    },
                    reception: {
                        title: "Reception Desk",
                        search_placeholder: "Search by name or phone...",
                        add_patient: "Add Patient",
                        phone: "Phone",
                        first_name: "First Name",
                        last_name: "Last Name",
                        dob: "Date of Birth",
                        date_format: "DD.MM.YYYY",
                        select_doctor: "Select Doctor",
                        payment: "Payment",
                        pay: "Pay",
                        receipt_generated: "Receipt Generated!",
                        payment_failed: "Payment Failed",
                        history: "History",
                        queue: "Current Queue",
                        ticket: "Ticket",
                        waiting: "Waiting",
                        completed: "Completed",
                        cash: "Cash",
                        card: "Card",
                        transfer: "Transfer",
                        mixed: "Mixed",
                        mixed_payment: "Mixed Payment",
                        total_amount: "Total Amount",
                        remaining: "Remaining",
                        excess: "Excess",
                        payment_complete: "Payment Complete!",
                        no_results: "No patients found",
                        create_new: "Create new patient",
                        sample_first_name: "Ulug'bek or Улугбек",
                        sample_last_name: "Rahmonov or Рахмонов"
                    },
                    patients: {
                        title: "Patients",
                        new_patient: "New Patient",
                        id: "ID",
                        name: "Name",
                        balance: "Balance",
                        category: "Category",
                        no_patients: "No patients found.",
                        add_title: "Add Patient",
                        full_name: "Full Name",
                        create_btn: "Create",
                        search_placeholder: "Search patients..."
                    },
                    appointments: {
                        title: "Appointments",
                        new_appointment: "New Appointment",
                        book_btn: "Book Appointment",
                        time: "Time",
                        duration: "Duration (minutes)",
                        notes: "Notes",
                        select_patient: "Select Patient",
                        success: "Appointment booked!",
                        overlap: "Failed to book. Check for overlaps."
                    },
                    finance: {
                        title: "Finance & Cashier",
                        open_shift: "Open Shift",
                        close_shift: "Close Shift",
                        shift_open: "Shift #{{id}} Open",
                        new_transaction: "New Expense",
                        total_amount: "Amount",
                        cash: "Cash",
                        card: "Card",
                        mixed: "Combined",
                        cash_part: "Cash Part",
                        card_part: "Card Part",
                        charge_btn: "Record Expense",
                        processing: "Processing...",
                        recent_transactions: "Recent Transactions",
                        no_transactions: "No transactions yet.",
                        payment_success: "Success!",
                        payment_fail: "Failed",
                        reports: "Reports",
                        x_report: "X-Report",
                        z_report: "Z-Report",
                        expense_desc: "Description of Expense",
                        no_shift_error: "Shift Closed",
                        open_shift_prompt: "The shift is currently closed. You must open a shift to process payments."
                    },
                    doctors: {
                        title: "Doctors Directory",
                        add_doctor: "Add Doctor",
                        specialty: "Specialty",
                        services_pricing: "Services & Pricing",
                        add_service: "Add Service",
                        service_name: "Service Name",
                        price: "Price",
                        priority: "Priority",
                        no_services: "No services configured",
                        history_log: "History Log",
                        log_placeholder: "No changes recorded."
                    },
                    system: {
                        title: "System Status",
                        core: "MedX Core",
                        check_updates: "Check for Updates",
                        update_available: "Update Available",
                        install_update: "Install Update",
                        no_updates: "No updates available.",
                        check_fail: "Failed to check updates."
                    }
                }
            },
            ru: {
                translation: {
                    ...ruJson,
                    common: {
                        loading: "Загрузка...",
                        add: "Добавить",
                        done: "Готово",
                        role: "Роль",
                        cancelled: "Отменено",
                        cancel: "Отмена",
                        save: "Сохранить",
                        delete: "Удалить",
                        edit: "Редактировать",
                        actions: "Действия",
                        search: "Поиск...",
                        unknown: "Неизвестно",
                        version: "Версия",
                        status: "Статус",
                        license: "Лицензия",
                        online: "Онлайн",
                        active: "Активна",
                        yes: "Да",
                        no: "Нет",
                        confirm: "Вы уверены?",
                        or: "или",
                        currency: "сум"
                    },
                    nav: {
                        dashboard: "Ресепшн",
                        registration: "Регистрация",
                        patients: "Пациенты",
                        finance: "Финансы",
                        reports: "Отчёты",
                        doctors: "Врачи",
                        system: "Система",
                        appointments: "Запись",
                        users: "Пользователи",
                        logout: "Выйти",
                        logout_confirm: "Вы уверены, что хотите выйти?"
                    },
                    registration: {
                        title: "Регистрация пациента",
                        subtitle: "Быстрая анкета с доступностью и едиными токенами темы.",
                        progress_badge: "Прогресс: {{progress}}%",
                        status_errors: "Есть ошибки",
                        status_ready: "Готово к сохранению",
                        steps_title: "Шаги",
                        steps_desc: "Быстрая навигация по анкете",
                        steps: {
                            identity: { title: "Идентификация", hint: "ФИО и дата рождения" },
                            contacts: { title: "Контакты", hint: "Телефон и адрес" },
                            medical: { title: "Медицинские данные", hint: "Аллергии и заметки" }
                        },
                        sections: {
                            identity: { title: "Идентификация", desc: "Введите ФИО и дату рождения." },
                            contacts: { title: "Контакты", desc: "Укажите телефон и контактные данные." },
                            medical: { title: "Медицинские данные", desc: "Добавьте важные медицинские сведения." }
                        },
                        fields: {
                            firstName: { label: "Имя", placeholder: "Например, Иван" },
                            lastName: { label: "Фамилия", placeholder: "Например, Петров" },
                            birthDate: { label: "Дата рождения", placeholder: "YYYY-MM-DD" },
                            sex: { label: "Пол", none: "Не указан", male: "Мужской", female: "Женский" },
                            phone: { label: "Телефон", placeholder: "+998..." },
                            email: { label: "Email", placeholder: "name@example.com" },
                            address: { label: "Адрес", placeholder: "Город, улица, дом" },
                            allergies: { label: "Аллергии", placeholder: "Например, пенициллин" },
                            chronic: { label: "Хронические заболевания", placeholder: "Например, гипертония" },
                            notes: { label: "Заметки", placeholder: "Свободная заметка для врача/регистратора" }
                        },
                        errors: { required: "Обязательное поле", format: "Неверный формат" },
                        buttons: { back: "Назад", next: "Далее", save: "Сохранить" },
                        tip: "Совет: сначала заполните обязательные поля, затем сохраните.",
                        saved: "Пациент сохранён (MVP UI)"
                    },
                    auth: {
                        welcome: "Добро пожаловать в MedX",
                        login: "Войти",
                        username: "Имя пользователя",
                        password: "Пароль",
                        username_placeholder: "Введите имя пользователя",
                        password_placeholder: "Введите пароль",
                        login_failed: "Ошибка входа. Проверьте учетные данные.",
                        default_credentials: "Данные по умолчанию:",
                        upload_key: "Загрузите файл лицензии для активации системы.",
                        click_upload: "Нажмите для выбора .key файла",
                        activate_btn: "Активировать",
                        activating: "Активация...",
                        invalid_key: "Неверный ключ лицензии."
                    },
                    reception: {
                        title: "Рабочее место",
                        search_placeholder: "Поиск по имени или телефону...",
                        add_patient: "Новый пациент",
                        phone: "Телефон",
                        first_name: "Имя",
                        last_name: "Фамилия",
                        dob: "Дата рождения",
                        date_format: "ДД.ММ.ГГГГ",
                        select_doctor: "Выберите врача",
                        payment: "Оплата",
                        pay: "Оплатить",
                        receipt_generated: "Чек создан!",
                        payment_failed: "Ошибка оплаты",
                        history: "История",
                        queue: "Текущая очередь",
                        ticket: "Талон",
                        waiting: "Ожидание",
                        completed: "Завершен",
                        cash: "Наличные",
                        card: "Карта",
                        transfer: "Перевод",
                        mixed: "Смешанная",
                        mixed_payment: "Смешанная оплата",
                        total_amount: "Общая сумма",
                        remaining: "Осталось",
                        excess: "Излишек",
                        payment_complete: "Оплата завершена!",
                        no_results: "Пациенты не найдены",
                        create_new: "Создать нового пациента",
                        sample_first_name: "Улугбек или Ulug'bek",
                        sample_last_name: "Рахмонов или Rahmonov"
                    },
                    patients: {
                        title: "Пациенты",
                        new_patient: "Новый пациент",
                        id: "ID",
                        name: "Имя",
                        balance: "Баланс",
                        category: "Категория",
                        no_patients: "Пациенты не найдены.",
                        add_title: "Добавить пациента",
                        full_name: "ФИО",
                        create_btn: "Создать",
                        search_placeholder: "Поиск пациентов..."
                    },
                    appointments: {
                        title: "Запись на прием",
                        new_appointment: "Новая запись",
                        book_btn: "Записать",
                        time: "Время",
                        duration: "Длительность (мин)",
                        notes: "Заметки",
                        select_patient: "Выберите пациента",
                        success: "Успешно записано!",
                        overlap: "Ошибка. Проверьте наложения."
                    },
                    finance: {
                        title: "Финансы и Касса",
                        open_shift: "Открыть смену",
                        close_shift: "Закрыть смену",
                        shift_open: "Смена #{{id}} Открыта",
                        new_transaction: "Новый расход",
                        total_amount: "Сумма",
                        cash: "Наличные",
                        card: "Карта",
                        mixed: "Смешанная",
                        cash_part: "Нал. часть",
                        card_part: "Безнал. часть",
                        charge_btn: "Записать расход",
                        processing: "Обработка...",
                        recent_transactions: "Последние операции",
                        no_transactions: "Операций нет.",
                        payment_success: "Успешно!",
                        payment_fail: "Ошибка",
                        reports: "Отчеты",
                        x_report: "X-Отчет",
                        z_report: "Z-Отчет",
                        expense_desc: "Описание расхода",
                        no_shift_error: "Смена закрыта",
                        open_shift_prompt: "Смена сейчас закрыта. Вы должны открыть смену для проведения оплаты."
                    },
                    doctors: {
                        title: "Справочник врачей",
                        add_doctor: "Добавить врача",
                        specialty: "Специальность",
                        services_pricing: "Услуги и Цены",
                        add_service: "Добавить услугу",
                        service_name: "Название услуги",
                        price: "Цена (сум)",
                        priority: "Приоритет",
                        no_services: "Нет услуг",
                        history_log: "История изменений",
                        log_placeholder: "Изменений пока нет."
                    },
                    system: {
                        title: "Статус системы",
                        core: "Ядро MedX",
                        check_updates: "Проверить обновления",
                        update_available: "Доступно обновление",
                        install_update: "Установить",
                        no_updates: "Обновлений нет.",
                        check_fail: "Ошибка проверки."
                    }
                }
            },
            uz: {
                translation: {
                    ...uzJson,
                    common: {
                        loading: "Yuklanmoqda...",
                        add: "Qo'shish",
                        done: "Tayyor",
                        role: "Rol",
                        cancelled: "Bekor qilindi",
                        cancel: "Bekor qilish",
                        save: "Saqlash",
                        delete: "O'chirish",
                        edit: "Tahrirlash",
                        actions: "Amallar",
                        search: "Qidirish...",
                        unknown: "Noma'lum",
                        version: "Versiya",
                        status: "Holat",
                        license: "Litsenziya",
                        online: "Onlayn",
                        active: "Faol",
                        yes: "Ha",
                        no: "Yo'q",
                        confirm: "Ishonchingiz komilmi?",
                        or: "yoki",
                        currency: "so'm"
                    },
                    nav: {
                        dashboard: "Qabulxona",
                        registration: "Ro'yxatdan o'tkazish",
                        patients: "Bemorlar",
                        finance: "Moliya",
                        reports: "Hisobotlar",
                        doctors: "Shifokorlar",
                        system: "Tizim",
                        appointments: "Qabul",
                        users: "Foydalanuvchilar",
                        logout: "Chiqish",
                        logout_confirm: "Tizimdan chiqmoqchimisiz?"
                    },
                    registration: {
                        title: "Bemorni ro'yxatdan o'tkazish",
                        subtitle: "Qulay anketa: accessibility va yagona tema tokenlari bilan.",
                        progress_badge: "Jarayon: {{progress}}%",
                        status_errors: "Xatolar bor",
                        status_ready: "Saqlashga tayyor",
                        steps_title: "Bosqichlar",
                        steps_desc: "Anketa bo'yicha tezkor navigatsiya",
                        steps: {
                            identity: { title: "Shaxsiy ma'lumot", hint: "F.I.Sh va tug'ilgan sana" },
                            contacts: { title: "Kontaktlar", hint: "Telefon va manzil" },
                            medical: { title: "Tibbiy", hint: "Allergiya va izohlar" }
                        },
                        sections: {
                            identity: { title: "Shaxsiy ma'lumot", desc: "F.I.Sh va tug'ilgan sanani kiriting." },
                            contacts: { title: "Kontaktlar", desc: "Telefon va aloqa ma'lumotlarini kiriting." },
                            medical: { title: "Tibbiy ma'lumot", desc: "Muhim tibbiy ma'lumotlarni qo'shing." }
                        },
                        fields: {
                            firstName: { label: "Ism", placeholder: "Masalan, Ivan" },
                            lastName: { label: "Familiya", placeholder: "Masalan, Petrov" },
                            birthDate: { label: "Tug'ilgan sana", placeholder: "YYYY-MM-DD" },
                            sex: { label: "Jins", none: "Ko'rsatilmagan", male: "Erkak", female: "Ayol" },
                            phone: { label: "Telefon", placeholder: "+998..." },
                            email: { label: "Email", placeholder: "name@example.com" },
                            address: { label: "Manzil", placeholder: "Shahar, ko'cha, uy" },
                            allergies: { label: "Allergiya", placeholder: "Masalan, penitsillin" },
                            chronic: { label: "Surunkali kasalliklar", placeholder: "Masalan, gipertoniya" },
                            notes: { label: "Izoh", placeholder: "Shifokor/qabulxona uchun erkin izoh" }
                        },
                        errors: { required: "Majburiy maydon", format: "Noto'g'ri format" },
                        buttons: { back: "Orqaga", next: "Keyingi", save: "Saqlash" },
                        tip: "Maslahat: avval majburiy maydonlarni to'ldiring, so'ng saqlang.",
                        saved: "Bemor saqlandi (MVP UI)"
                    },
                    auth: {
                        welcome: "MedX ga xush kelibsiz",
                        login: "Kirish",
                        username: "Foydalanuvchi nomi",
                        password: "Parol",
                        username_placeholder: "Foydalanuvchi nomini kiriting",
                        password_placeholder: "Parolni kiriting",
                        login_failed: "Kirish xatosi. Ma'lumotlarni tekshiring.",
                        default_credentials: "Standart ma'lumotlar:",
                        upload_key: "Tizimni faollashtirish uchun litsenziya faylini yuklang.",
                        click_upload: ".key faylni tanlash uchun bosing",
                        activate_btn: "Faollashtirish",
                        activating: "Faollashtirilmoqda...",
                        invalid_key: "Noto'g'ri litsenziya kaliti."
                    },
                    reception: {
                        title: "Qabulxona",
                        search_placeholder: "Ism yoki telefon orqali qidirish...",
                        add_patient: "Yangi bemor",
                        phone: "Telefon",
                        first_name: "Ism",
                        last_name: "Familiya",
                        dob: "Tug'ilgan sana",
                        date_format: "KK.OO.YYYY",
                        select_doctor: "Shifokorni tanlang",
                        payment: "To'lov",
                        pay: "To'lash",
                        receipt_generated: "Chek yaratildi!",
                        payment_failed: "To'lov xatosi",
                        history: "Tarix",
                        queue: "Joriy navbat",
                        ticket: "Talon",
                        waiting: "Kutilmoqda",
                        completed: "Yakunlandi",
                        cash: "Naqd",
                        card: "Karta",
                        transfer: "O'tkazma",
                        mixed: "Aralash",
                        mixed_payment: "Aralash to'lov",
                        total_amount: "Umumiy summa",
                        remaining: "Qoldi",
                        excess: "Ortiqcha",
                        payment_complete: "To'lov tugallandi!",
                        no_results: "Bemorlar topilmadi",
                        create_new: "Yangi bemor yaratish",
                        sample_first_name: "Ulug'bek yoki Улугбек",
                        sample_last_name: "Rahmonov yoki Рахмонов"
                    },
                    patients: {
                        title: "Bemorlar",
                        new_patient: "Yangi bemor",
                        id: "ID",
                        name: "Ism",
                        balance: "Balans",
                        category: "Toifa",
                        no_patients: "Bemorlar topilmadi.",
                        add_title: "Bemor qo'shish",
                        full_name: "F.I.Sh",
                        create_btn: "Yaratish",
                        search_placeholder: "Bemorlarni qidirish..."
                    },
                    appointments: {
                        title: "Qabulga yozilish",
                        new_appointment: "Yangi qabul",
                        book_btn: "Yozilish",
                        time: "Vaqt",
                        duration: "Davomiyligi (daq)",
                        notes: "Izohlar",
                        select_patient: "Bemorni tanlang",
                        success: "Muvaffaqiyatli yozildi!",
                        overlap: "Xatolik. Vaqt ustma-ust tushdi."
                    },
                    finance: {
                        title: "Moliya va Kassa",
                        open_shift: "Smenani ochish",
                        close_shift: "Smenani yopish",
                        shift_open: "Smena #{{id}} Ochiq",
                        new_transaction: "Yangi xarajat",
                        total_amount: "Xarajat summasi",
                        cash: "Naqd",
                        card: "Karta",
                        mixed: "Aralash",
                        cash_part: "Naqd qismi",
                        card_part: "Karta qismi",
                        charge_btn: "Xarajatni yozish",
                        processing: "Qayta ishlanmoqda...",
                        recent_transactions: "Oxirgi amaliyotlar",
                        no_transactions: "Amaliyotlar yo'q.",
                        payment_success: "Muvaffaqiyatli!",
                        payment_fail: "To'lov xatosi",
                        reports: "Hisobotlar",
                        x_report: "X-Hisobot",
                        z_report: "Z-Hisobot",
                        expense_desc: "Xarajat izohi",
                        no_shift_error: "Smena yopiq",
                        open_shift_prompt: "Smena hozirda yopiq. To'lovlarni amalga oshirish uchun smenani ochishingiz kerak."
                    },
                    doctors: {
                        title: "Shifokorlar ro'yxati",
                        add_doctor: "Shifokor qo'shish",
                        specialty: "Mutaxassislik",
                        services_pricing: "Xizmatlar va narxlar",
                        add_service: "Xizmat qo'shish",
                        service_name: "Xizmat nomi",
                        price: "Narx (so'm)",
                        priority: "Ustuvorlik",
                        no_services: "Xizmatlar yo'q",
                        history_log: "O'zgarishlar tarixi",
                        log_placeholder: "O'zgarishlar yo'q."
                    },
                    system: {
                        title: "Tizim holati",
                        core: "MedX Asosi",
                        check_updates: "Yangilanishlarni tekshirish",
                        update_available: "Yangilanish mavjud",
                        install_update: "O'rnatish",
                        no_updates: "Yangilanishlar yo'q.",
                        check_fail: "Tekshirishda xatolik."
                    }
                }
            }
        }
    });

export default i18n;
