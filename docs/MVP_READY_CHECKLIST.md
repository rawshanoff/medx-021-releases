# ✅ MedX MVP Ready Checklist

> **Версия:** 1.0.0-mvp  
> **Дата:** 2026-02-03

## 1. Предварительные проверки

### Код и конфигурация
- [x] Версия приложения: `1.0.0-mvp` в `backend/core/config.py`
- [x] Все console.log заменены на централизованный логгер
- [x] Hardcoded strings заменены на i18n ключи (System.tsx)
- [x] Настройки печати сохраняются в БД (не localStorage)
- [x] Валидация настроек печати на бэкенде

### Безопасность
- [x] CORS настроен для localhost
- [x] Rate limiting включён
- [x] JWT аутентификация работает
- [x] RBAC (Role-Based Access Control) реализован
- [x] Пароли хешируются (bcrypt)
- [x] Sensitive data не в localStorage (лицензии удалены)

### База данных
- [ ] PostgreSQL установлен и настроен
- [ ] Миграции применены (`alembic upgrade head`)
- [ ] Пользователь admin создан (миграция 006)
- [ ] Пароль admin изменён с дефолтного

## 2. Компоненты системы

### Backend (FastAPI)
```
✅ Проверить: http://127.0.0.1:8000/docs
✅ Health check: http://127.0.0.1:8000/health
```
- [ ] Backend запускается без ошибок
- [ ] API отвечает на запросы
- [ ] Swagger документация доступна

### Frontend (React + Vite)
```
✅ Проверить: http://127.0.0.1:5173
```
- [ ] Frontend собирается (`npm run build`)
- [ ] Dev сервер работает (`npm run dev`)
- [ ] Нет критических ошибок в консоли

### License Server (опционально для MVP)
```
✅ Проверить: http://127.0.0.1:8001/health
```
- [ ] RSA ключи сгенерированы
- [ ] Сервер запускается

## 3. Функциональное тестирование

### Авторизация
- [ ] Логин работает (admin / admin123)
- [ ] Редирект на правильную страницу по роли
- [ ] Logout очищает сессию

### Регистратура (Reception)
- [ ] Поиск пациента по телефону/имени
- [ ] Создание нового пациента
- [ ] Добавление в очередь (талон генерируется)
- [ ] Просмотр истории пациента
- [ ] Проведение оплаты (нал/карта/смешанно)
- [ ] Печать чека

### Касса (Finance)
- [ ] Открытие смены
- [ ] Добавление расхода
- [ ] Просмотр последних транзакций
- [ ] Закрытие смены с отчётом
- [ ] X-отчёт по активной смене

### Врачи (Doctors)
- [ ] Создание врача (с префиксом очереди)
- [ ] Редактирование врача
- [ ] Добавление услуг врачу
- [ ] Удаление услуг
- [ ] Soft delete врача

### Система (System)
- [ ] Настройки печати сохраняются/загружаются
- [ ] Управление пользователями (CRUD)
- [ ] Проверка обновлений работает
- [ ] История изменений отображается

## 4. Система обновлений

### Подготовка сервера обновлений
- [ ] GitHub репозиторий создан
- [ ] `UPDATE_CHECK_URL` настроен в `.env`
- [ ] Скрипт сборки работает: `python scripts/build_release.py --version 1.0.0-mvp`

### Тестирование обновления (опционально)
- [ ] Проверка обновлений находит "нет обновлений" (для свежей версии)
- [ ] При наличии новой версии — показывает кнопку "Установить"

## 5. Production Checklist

### Перед деплоем
- [ ] Пароль admin изменён!
- [ ] SECRET_KEY заменён на надёжный
- [ ] DATABASE_URL указывает на production БД
- [ ] Бэкап БД настроен
- [ ] UPDATE_CHECK_URL указывает на правильный URL

### Файлы для исключения
Не должны попадать в архив обновления:
- `.env`, `.env.local`
- `private_key.pem`
- `medx.db` (SQLite, если используется)
- `node_modules/`
- `__pycache__/`

## 6. Команды для запуска

### Разработка
```powershell
# Терминал 1: Backend
cd backend
python -m uvicorn main:app --host 127.0.0.1 --port 8000 --reload

# Терминал 2: Frontend
cd frontend
npm run dev

# Терминал 3: License Server (опционально)
cd license_server
python main.py
```

### Миграции
```powershell
cd backend
python -m alembic -c alembic.ini upgrade head
```

### Сборка релиза
```powershell
python scripts/build_release.py --version 1.0.0-mvp --notes "Initial MVP release"
```

## 7. Известные ограничения MVP

- ⚠️ Нет refresh tokens (сессия по ACCESS_TOKEN_EXPIRE_MINUTES)
- ⚠️ Нет API кеширования (React Query — post-MVP)
- ⚠️ Ограниченное покрытие тестами (~40%)
- ⚠️ Нет пагинации для больших списков
- ⚠️ Нет экспорта/импорта настроек

## 8. Post-MVP Improvements

- [ ] Добавить refresh tokens
- [ ] Реализовать React Query для кеширования
- [ ] Увеличить покрытие тестами до 70%+
- [ ] Добавить пагинацию
- [ ] Skeleton loaders для UX
- [ ] Optimistic updates
- [ ] Индексы БД для производительности

---

**STATUS: ✅ READY FOR MVP LAUNCH**

При успешном прохождении всех обязательных пунктов чек-листа — система готова к запуску.
