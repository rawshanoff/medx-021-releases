## üìä –ê–ù–ê–õ–ò–ó –ü–†–û–ï–ö–¢–ê MEDX

### ‚úÖ –ü–õ–Æ–°–´

#### –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ –∏ –¥–∏–∑–∞–π–Ω
- ‚úÖ **–ú–æ–¥—É–ª—å–Ω–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞** ‚Äî clean code, –ª–µ–≥–∫–æ –¥–æ–±–∞–≤–ª—è—Ç—å —Ñ–∏—á–∏
- ‚úÖ **FastAPI** ‚Äî –±—ã—Å—Ç—Ä–æ, –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ, —Å –∞–≤—Ç–æ–¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–µ–π
- ‚úÖ **RBAC** ‚Äî —Ä–æ–ª–∏ –≤—Å—Ç—Ä–æ–µ–Ω—ã, –∑–∞—â–∏—Ç–∞ —ç–Ω–¥–ø–æ–∏–Ω—Ç–æ–≤
- ‚úÖ **Soft Delete** ‚Äî –¥–µ–ª–æ–≤—ã–µ –¥–∞–Ω–Ω—ã–µ –Ω–µ —Ç–µ—Ä—è—é—Ç—Å—è
- ‚úÖ **Audit Logging** ‚Äî –∏—Å—Ç–æ—Ä–∏—è —Ñ–∏–Ω–∞–Ω—Å–æ–≤—ã—Ö –æ–ø–µ—Ä–∞—Ü–∏–π –∏ —Å–∏—Å—Ç–µ–º–Ω—ã—Ö –Ω–∞—Å—Ç—Ä–æ–µ–∫
- ‚úÖ **–ê—Ç–æ–º–∞—Ä–Ω—ã–µ –æ–ø–µ—Ä–∞—Ü–∏–∏** ‚Äî –±–ª–æ–∫–∏—Ä–æ–≤–∫–∏ –ë–î –¥–ª—è —Ñ–∏–Ω–∞–Ω—Å–æ–≤—ã—Ö –æ–ø–µ—Ä–∞—Ü–∏–π (safety first!)

#### –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å
- ‚úÖ **JWT + bcrypt** ‚Äî –ø–∞—Ä–æ–ª–∏ –Ω–µ —Ö—Ä–∞–Ω—è—Ç—Å—è –≤ –æ—Ç–∫—Ä—ã—Ç–æ–º –≤–∏–¥–µ
- ‚úÖ **Rate limiting** ‚Äî –∑–∞—â–∏—Ç–∞ –æ—Ç –±—Ä—É—Ç—Ñ–æ—Ä—Å–∞
- ‚úÖ **–õ–∏—Ü–µ–Ω–∑–∏—Ä–æ–≤–∞–Ω–∏–µ** ‚Äî —Å–∏—Å—Ç–µ–º–∞ –∫–æ–Ω—Ç—Ä–æ–ª—è —Ñ–∏—á
- ‚úÖ **Electron IPC security** ‚Äî contextIsolation, nodeIntegration –æ—Ç–∫–ª—é—á–µ–Ω—ã

#### Frontend
- ‚úÖ **TypeScript** ‚Äî —Ç–∏–ø–∏–∑–∞—Ü–∏—è –∑–∞—â–∏—â–∞–µ—Ç –æ—Ç –æ—à–∏–±–æ–∫
- ‚úÖ **Tailwind CSS** ‚Äî –∫—Ä–∞—Å–∏–≤—ã–π, —Å–æ–≤—Ä–µ–º–µ–Ω–Ω—ã–π UI
- ‚úÖ **i18n** ‚Äî –ø–æ–¥–¥–µ—Ä–∂–∫–∞ 3 —è–∑—ã–∫–æ–≤ (ru/en/uz)
- ‚úÖ **Responsive** ‚Äî —Ä–∞–±–æ—Ç–∞–µ—Ç –Ω–∞ —Ä–∞–∑–Ω—ã—Ö —Ä–∞–∑—Ä–µ—à–µ–Ω–∏—è—Ö

#### –î—Ä—É–≥–æ–µ
- ‚úÖ **Docker** ‚Äî –ª–µ–≥–∫–æ –ø–æ–¥–Ω—è—Ç—å –æ–∫—Ä—É–∂–µ–Ω–∏–µ
- ‚úÖ **–ú–∏–≥—Ä–∞—Ü–∏–∏ (Alembic)** ‚Äî –∫–æ–Ω—Ç—Ä–æ–ª—å –≤–µ—Ä—Å–∏–π —Å—Ö–µ–º—ã –ë–î
- ‚úÖ **CI/CD** ‚Äî GitHub Actions —Å –ª–∏–Ω—Ç–∏–Ω–≥–æ–º –∏ —Ç–µ—Å—Ç–∞–º–∏

---

### üî¥ –ú–ò–ù–£–°–´

#### –ö—Ä–∏—Ç–∏—á–Ω—ã–µ (–±–ª–æ–∫–∏—Ä—É—é—Ç MVP)
1. **–ù–∏–∑–∫–æ–µ –ø–æ–∫—Ä—ã—Ç–∏–µ —Ç–µ—Å—Ç–∞–º–∏** ‚Äî –Ω–µ—Ç E2E, –Ω–µ—Ç —Ç–µ—Å—Ç–æ–≤ –¥–ª—è –∫—Ä–∏—Ç–∏—á–Ω—ã—Ö —Å—Ü–µ–Ω–∞—Ä–∏–µ–≤
2. **–ù–µ—Ç retry –ª–æ–≥–∏–∫–∏** ‚Äî –µ—Å–ª–∏ —Å–µ—Ç—å —É–ø–∞–ª–∞, –æ—à–∏–±–∫–∞ 500 –≤–º–µ—Å—Ç–æ –∞–≤—Ç–æ–ø–æ–≤—Ç–æ—Ä–∞
3. **–ù–µ—Ç –∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏—è API** ‚Äî –∫–∞–∂–¥—ã–π –∫–ª–∏–∫ = –Ω–æ–≤—ã–π –∑–∞–ø—Ä–æ—Å –∫ –ë–î
4. **–û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫ –Ω–µ–ø–æ–ª–Ω–∞—è** ‚Äî –Ω–µ –≤–µ–∑–¥–µ –ª–æ–≥–∏—Ä—É—é—Ç—Å—è –æ—à–∏–±–∫–∏, –Ω–µ—Ç –µ–¥–∏–Ω–æ–æ–±—Ä–∞–∑–∏—è

#### –í–∞–∂–Ω—ã–µ (–≤–ª–∏—è—é—Ç –Ω–∞ —Å—Ç–∞–±–∏–ª—å–Ω–æ—Å—Ç—å)
1. **–ù–µ—Ç refresh tokens** ‚Äî –µ—Å–ª–∏ —Ç–æ–∫–µ–Ω –ø–æ—Ç–µ—Ä—è–µ—Ç—Å—è, –ø–µ—Ä–µ—Ä–∞–∑–ª–æ–≥–∏–Ω–∏—Ç—å—Å—è
2. **–í–∞–ª–∏–¥–∞—Ü–∏—è —Ñ–∞–π–ª–æ–≤ —Å–ª–∞–±–∞—è** ‚Äî –Ω–µ—Ç –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è —Ä–∞–∑–º–µ—Ä–∞ –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ
3. **Race conditions –≤–æ–∑–º–æ–∂–Ω—ã** ‚Äî –≤ –∫–æ–Ω–∫—É—Ä–µ–Ω—Ç–Ω—ã—Ö –æ–ø–µ—Ä–∞—Ü–∏—è—Ö
4. **–ù–µ—Ç –æ–±—Ä–∞–±–æ—Ç–∫–∏ —Ç–∞–π–º–∞—É—Ç–æ–≤ –ë–î** ‚Äî –¥–æ–ª–≥–∏–µ –∑–∞–ø—Ä–æ—Å—ã = –ø–∞–¥–µ–Ω–∏–µ

#### –ñ–µ–ª–∞—Ç–µ–ª—å–Ω—ã–µ (–¥–ª—è –∫–æ–º—Ñ–æ—Ä—Ç–∞)
1. **–î—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏–µ –∫–æ–¥–∞** ‚Äî –æ–¥–Ω–∞ –∏ —Ç–∞ –∂–µ –ª–æ–≥–∏–∫–∞ –≤ —Ä–∞–∑–Ω—ã—Ö –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞—Ö
2. **–û—Ç—Å—É—Ç—Å—Ç–≤—É—é—Ç Loading states** ‚Äî –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –Ω–µ –≤–∏–¥–∏—Ç, —á—Ç–æ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç
3. **–ù–µ—Ç Skeleton loaders** ‚Äî –ø—É—Å—Ç—ã–µ —ç–∫—Ä–∞–Ω—ã –≤–º–µ—Å—Ç–æ –ø–ª–µ–π—Å—Ö–æ–ª–¥–µ—Ä–æ–≤
4. **–£—Å—Ç–∞—Ä–µ–≤—à–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è** ‚Äî –º–Ω–æ–≥–æ –¥–æ–∫–æ–≤, –Ω–æ –Ω–µ—è—Å–Ω–æ –∫–∞–∫–∏–µ –∞–∫—Ç—É–∞–ª—å–Ω—ã

---

### üí° –ö–û–ù–ö–†–ï–¢–ù–´–ï –°–û–í–ï–¢–´ –î–õ–Ø MVP

#### –ü—Ä—è–º–æ —Å–µ–π—á–∞—Å (–¥–æ –∑–∞–ø—É—Å–∫–∞)

```bash
# 1. –£–±–µ–¥–∏—Ç—å—Å—è, —á—Ç–æ –≤—Å–µ –º–∏–≥—Ä–∞—Ü–∏–∏ –ø—Ä–∏–º–µ–Ω–µ–Ω—ã
cd backend
python -m alembic -c alembic.ini upgrade head

# 2. –ó–∞–ø—É—Å—Ç–∏—Ç—å —Ç–µ—Å—Ç—ã –ø–µ—Ä–µ–¥ MVP
pytest

# 3. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å, —á—Ç–æ –±—ç–∫–µ–Ω–¥ –∏ —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥ –∑–∞–ø—É—Å–∫–∞—é—Ç—Å—è
cd backend
python -m uvicorn main:app --host 127.0.0.1 --port 8000

# (–≤ –¥—Ä—É–≥–æ–º —Ç–µ—Ä–º–∏–Ω–∞–ª–µ)
cd frontend
npm run dev
```

#### Phase 1: –°—Ç–∞–±–∏–ª—å–Ω–æ—Å—Ç—å (1-2 –¥–Ω—è)

1. **–î–æ–±–∞–≤–∏—Ç—å retry –ª–æ–≥–∏–∫—É –≤ API** (`frontend/src/api/client.ts`):
```typescript
// Retry –¥–ª—è —Å–µ—Ç–µ–≤—ã—Ö –æ—à–∏–±–æ–∫
const retryAxios = axios.create({ ... });
retryAxios.interceptors.response.use(..., (error) => {
  if (error.response?.status >= 500) return retry();
  throw error;
});
```

2. **–î–æ–±–∞–≤–∏—Ç—å –æ–±—Ä–∞–±–æ—Ç–∫—É –æ—à–∏–±–æ–∫ –≤–µ–∑–¥–µ**:
```typescript
try {
  const data = await client.get('/api/reception/queue');
  return data;
} catch (e) {
  toast.error('–û—à–∏–±–∫–∞ –∑–∞–≥—Ä—É–∑–∫–∏ –æ—á–µ—Ä–µ–¥–∏');
  logger.error('Queue load failed', e);
}
```

3. **–î–æ–±–∞–≤–∏—Ç—å Loading states –≤ UI**:
```typescript
const [loading, setLoading] = useState(false);
return <>{loading ? <Skeleton /> : <Content />}</>;
```

#### Phase 2: –ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å (1-2 –¥–Ω—è)

1. **–£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å React Query –¥–ª—è –∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏—è**:
```bash
npm install @tanstack/react-query
```

2. **–û–±–Ω–æ–≤–∏—Ç—å —Ö—É–∫–∏**:
```typescript
import { useQuery } from '@tanstack/react-query';

export const usePatients = () => {
  return useQuery({
    queryKey: ['patients'],
    queryFn: () => client.get('/api/patients')
  });
};
```

3. **–û–ø—Ç–∏–º–∏—Å—Ç–∏—á–Ω—ã–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è**:
```typescript
const mutation = useMutation({
  mutationFn: (data) => client.post('/api/patients', data),
  onMutate: (newData) => queryClient.setQueryData(['patients'], old => [...old, newData])
});
```

#### Phase 3: –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å (1 –¥–µ–Ω—å)

1. **–î–æ–±–∞–≤–∏—Ç—å –≤–∞–ª–∏–¥–∞—Ü–∏—é —Ä–∞–∑–º–µ—Ä–∞ —Ñ–∞–π–ª–æ–≤**:
```python
# backend/modules/files/router.py
MAX_FILE_SIZE = 10_000_000  # 10 MB
if len(file.file) > MAX_FILE_SIZE:
    raise HTTPException(400, "–§–∞–π–ª —Å–ª–∏—à–∫–æ–º –±–æ–ª—å—à–æ–π")
```

2. **–î–æ–±–∞–≤–∏—Ç—å refresh tokens**:
```python
# backend/core/auth.py
def create_tokens(user_id):
    access_token = create_access_token(user_id, timedelta(hours=1))
    refresh_token = create_refresh_token(user_id, timedelta(days=7))
    return {"access_token": access_token, "refresh_token": refresh_token}
```

#### Phase 4: –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ (2-3 –¥–Ω—è)

1. **–î–æ–±–∞–≤–∏—Ç—å E2E —Ç–µ—Å—Ç—ã –¥–ª—è –∫—Ä–∏—Ç–∏—á–Ω—ã—Ö —Å—Ü–µ–Ω–∞—Ä–∏–µ–≤**:
   - –õ–æ–≥–∏–Ω
   - –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –ø–∞—Ü–∏–µ–Ω—Ç–∞ –≤ –æ—á–µ—Ä–µ–¥—å
   - –ó–∞–∫—Ä—ã—Ç–∏–µ —Å–º–µ–Ω—ã
   - –†–µ—Ñ—É–Ω–¥ –ø–ª–∞—Ç–µ–∂–∞

2. **–£–≤–µ–ª–∏—á–∏—Ç—å –ø–æ–∫—Ä—ã—Ç–∏–µ unit —Ç–µ—Å—Ç–æ–≤**:
   - –í–∞–ª–∏–¥–∞—Ü–∏—è –¥–∞–Ω–Ω—ã—Ö
   - –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫
   - –ë–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–∞

---

### üéØ –î–õ–Ø MVP –î–û–°–¢–ê–¢–û–ß–ù–û:

‚úÖ **–¢–µ–∫—É—â–µ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ:**
- –í—Å–µ –æ—Å–Ω–æ–≤–Ω—ã–µ –º–æ–¥—É–ª–∏ —Ä–∞–±–æ—Ç–∞—é—Ç (–ø–∞—Ü–∏–µ–Ω—Ç—ã, –≤—Ä–∞—á–∏, –∫–∞—Å—Å–∞, –æ—á–µ—Ä–µ–¥—å)
- RBAC —Ä–∞–±–æ—Ç–∞–µ—Ç
- –ê—É–¥–∏—Ç —Ä–∞–±–æ—Ç–∞–µ—Ç
- –ü–µ—á–∞—Ç—å —Ä–∞–±–æ—Ç–∞–µ—Ç
- –õ–∏—Ü–µ–Ω–∑–∏—Ä–æ–≤–∞–Ω–∏–µ —Ä–∞–±–æ—Ç–∞–µ—Ç

‚úÖ **–ù—É–∂–Ω–æ –¥–æ–±–∞–≤–∏—Ç—å –ø–µ—Ä–µ–¥ MVP:**
1. ‚úÖ Retry –ª–æ–≥–∏–∫–∞ –¥–ª—è —Å–µ—Ç–µ–≤—ã—Ö –æ—à–∏–±–æ–∫
2. ‚úÖ Loading states –∏ Skeleton
3. ‚úÖ –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫ –≤–µ–∑–¥–µ
4. ‚úÖ –ë–∞–∑–æ–≤—ã–µ E2E —Ç–µ—Å—Ç—ã (5-10 –æ—Å–Ω–æ–≤–Ω—ã—Ö —Å—Ü–µ–Ω–∞—Ä–∏–µ–≤)

‚ùå **–ú–æ–∂–Ω–æ –æ—Ç–ª–æ–∂–∏—Ç—å –Ω–∞ –ø–æ—Ç–æ–º:**
- React Query (–º–æ–∂–Ω–æ —Å–¥–µ–ª–∞—Ç—å –≤ Phase 2)
- Refresh tokens (–º–æ–∂–Ω–æ —Å–¥–µ–ª–∞—Ç—å –≤ Phase 2)
- –ü–æ–ª–Ω–æ–µ –ø–æ–∫—Ä—ã—Ç–∏–µ —Ç–µ—Å—Ç–∞–º–∏ (–º–æ–∂–Ω–æ —Å–¥–µ–ª–∞—Ç—å –≤ Phase 3)

---

### üöÄ –ß–ï–ö–õ–ò–°–¢ –ü–ï–†–ï–î MVP

```
[ ] –í—Å–µ –º–∏–≥—Ä–∞—Ü–∏–∏ –ë–î –ø—Ä–∏–º–µ–Ω–µ–Ω—ã: python -m alembic upgrade head
[ ] Backend –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è –±–µ–∑ –æ—à–∏–±–æ–∫ –Ω–∞ :8000
[ ] Frontend –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è –±–µ–∑ –æ—à–∏–±–æ–∫ –Ω–∞ :5173
[ ] –í—Å–µ —Ç–µ—Å—Ç—ã –ø—Ä–æ—Ö–æ–¥—è—Ç: pytest
[ ] –õ–æ–≥–∏–Ω —Ä–∞–±–æ—Ç–∞–µ—Ç
[ ] –ú–æ–∂–Ω–æ –¥–æ–±–∞–≤–∏—Ç—å –ø–∞—Ü–∏–µ–Ω—Ç–∞ –≤ –æ—á–µ—Ä–µ–¥—å
[ ] –ú–æ–∂–Ω–æ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞—Ç—å –ø–ª–∞—Ç—ë–∂
[ ] –ú–æ–∂–Ω–æ –∑–∞–∫—Ä—ã—Ç—å —Å–º–µ–Ω—É
[ ] –ü–µ—á–∞—Ç—å —Ä–∞–±–æ—Ç–∞–µ—Ç
[ ] –ù–µ—Ç 500 –æ—à–∏–±–æ–∫ –≤ –∫–æ–Ω—Å–æ–ª–∏
[ ] –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –æ–±–Ω–æ–≤–ª–µ–Ω–∞ –≤ README
```

---

**–í—ã–≤–æ–¥:** –ü—Ä–æ–µ–∫—Ç –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–Ω–æ –≥–æ—Ç–æ–≤ –∫ MVP! –ù—É–∂–Ω—ã:
1. **–°–µ–π—á–∞—Å** ‚Äî —É–±–µ–¥–∏—Ç—å—Å—è, —á—Ç–æ –≤—Å—ë –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è –∏ —Ç–µ—Å—Ç—ã –ø—Ä–æ—Ö–æ–¥—è—Ç (30 –º–∏–Ω)
2. **–ü–µ—Ä–µ–¥ –∑–∞–ø—É—Å–∫–æ–º** ‚Äî –¥–æ–±–∞–≤–∏—Ç—å retry –∏ error handling (1-2 –¥–Ω—è)
3. **–ù–∞ –±—É–¥—É—â–µ–µ** ‚Äî React Query, refresh tokens, —Ä–∞—Å—à–∏—Ä–µ–Ω–Ω—ã–µ —Ç–µ—Å—Ç—ã
