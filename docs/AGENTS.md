## AGENTS.md (MedX)

Этот файл описывает, как подключать subagents для ускорения разработки и релизов.

### Роли в продукте
- **owner (владелец)**: определяет бизнес‑приоритеты и принимает релиз.
- **admin (админ системы)**: управляет пользователями/правами/настройками клиники.
- **registrar (регистратор)**: пациенты, очередь/запись.
- **cashier (кассир)**: смены, оплаты, отчёты кассы.
- **doctor (врач)**: своя очередь/приёмы (минимальный доступ).

### Когда запускать subagents
- **Перед MVP‑релизом**:
  - агент “security” — ищет секреты/ключи/хардкоды в конфиге, проверяет `.gitignore`.
  - агент “db-migrations” — проверяет Alembic: heads, upgrade path, риски потери данных.
  - агент “rbac” — проверяет, что все бизнес-роуты закрыты ролями.
  - агент “frontend-ux” — проверяет 401/403 UX, загрузки/ошибки, соответствие ролям.
- **Перед Enterprise‑веткой**:
  - агент “packaging” — исследует Electron vs PyWebView (инсталлятор, апдейты, печать, антивирусы).
  - агент “updater” — проектирует процесс обновления/отката/миграций.

### Формат задачи для subagent
Пиши цель и ожидаемый выход:
- какие файлы затронуть
- какие риски/блокеры
- что проверить руками/скриптом

### Принцип MVP → Enterprise
- MVP: “железобетонный” сценарий регистратуры/кассы/отчётов.
- Enterprise: стабильные миграции, апдейты, лицензирование и упаковка в дистрибутив.
